{"ast":null,"code":"var _jsxFileName = \"/Users/ratseevtimur/Documents/Test-Projects/door-3d/src/components/3D/OBJ.js\",\n  _s = $RefreshSig$();\nimport { createRoot } from 'react-dom/client';\nimport React, { useRef, useState, useEffect, useMemo } from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport { GizmoHelper, GizmoViewport, Html } from \"@react-three/drei\";\nimport { Canvas, useFrame, useLoader, useResource } from '@react-three/fiber';\nimport { TextureLoader } from 'three/src/loaders/TextureLoader';\nimport * as THREE from \"three\";\nimport { Geometry, Base, Subtraction, Addition, Brush } from '@react-three/csg';\nimport Sink from './Sink.js';\nimport EditSinkLayer from './EditSinkLayer.js';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setModelProperties, set_Prop_Box_forma } from \"../../redux/reducers/model-properties.js\";\nimport \"./3D.scss\";\nimport { useTexture } from \"@react-three/drei\";\nimport { Mesh } from \"three\";\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Rock = ({\n  scaleValue\n}) => {\n  _s();\n  let textureSelected = useSelector(state => state.textureSelected);\n  const obj = useLoader(OBJLoader, \"/door/10057_wooden_door_v3_iterations-2.obj\");\n  //const texture = useTexture(\"/door/10057_wooden_door_v1_diffuse.jpg\");\n  const texture = useTexture(textureSelected.url);\n\n  //   const textureMap = useLoader(TextureLoader, texture.url)\n  //   const geometry = useMemo(() => {\n  //     let g;\n  //     obj.traverse((c) => {\n  //       if (c.type === \"Mesh\") {\n  //         const _c = c as Mesh;\n  //         g = _c.geometry;\n  //       }\n  //     });\n  //     return g;\n  //   }, [obj]);\n\n  const geometry = useMemo(() => {\n    let g;\n    // obj.traverse( function ( child ) {\n\n    //     if ( child.isMesh ) {\n\n    //         child.material.map = texture;\n    //         g = child.geometry//.computeVertexNormals();\n\n    //     }\n\n    // } );\n    obj.traverse(function (child) {\n      if (child instanceof THREE.Mesh) {\n        child.material.map = texture;\n        g = child.geometry; //.computeVertexNormals();\n      }\n\n      // if ( child.isMesh ) { child.castShadow = true; }\n    });\n    return g;\n  }, [obj]);\n  return /*#__PURE__*/_jsxDEV(\"mesh\", {\n    castSwhadow: true,\n    geometry: geometry,\n    scale: scaleValue,\n    rotation: [-1.56, 0, 0],\n    position: [0, -10, 0],\n    children: /*#__PURE__*/_jsxDEV(\"meshPhysicalMaterial\", {\n      map: texture\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this)\n  // <primitive object={obj} />\n  ;\n};\n_s(Rock, \"7vs6/x0H5F+L0ftaCJ39E2QwHuY=\", false, function () {\n  return [useSelector, useLoader, useTexture];\n});\n_c = Rock;\nconst Scene = ({\n  scaleValue\n}) => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Rock, {\n      scaleValue: scaleValue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GizmoHelper, {\n      alignment: \"bottom-right\",\n      margin: [80, 80],\n      children: /*#__PURE__*/_jsxDEV(GizmoViewport, {\n        labelColor: \"white\",\n        axisHeadScale: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_c2 = Scene;\nexport default Scene;\nvar _c, _c2;\n$RefreshReg$(_c, \"Rock\");\n$RefreshReg$(_c2, \"Scene\");","map":{"version":3,"names":["createRoot","React","useRef","useState","useEffect","useMemo","useLocation","GizmoHelper","GizmoViewport","Html","Canvas","useFrame","useLoader","useResource","TextureLoader","THREE","Geometry","Base","Subtraction","Addition","Brush","Sink","EditSinkLayer","useSelector","useDispatch","setModelProperties","set_Prop_Box_forma","useTexture","Mesh","OBJLoader","jsxDEV","_jsxDEV","Fragment","_Fragment","Rock","scaleValue","_s","textureSelected","state","obj","texture","url","geometry","g","traverse","child","material","map","castSwhadow","scale","rotation","position","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","Scene","alignment","margin","labelColor","axisHeadScale","_c2","$RefreshReg$"],"sources":["/Users/ratseevtimur/Documents/Test-Projects/door-3d/src/components/3D/OBJ.js"],"sourcesContent":["import { createRoot } from 'react-dom/client'\nimport React, { useRef, useState, useEffect, useMemo } from 'react'\nimport { useLocation } from \"react-router-dom\";\nimport { GizmoHelper, GizmoViewport, Html} from \"@react-three/drei\"\nimport { Canvas, useFrame, useLoader, useResource } from '@react-three/fiber'\nimport { TextureLoader } from 'three/src/loaders/TextureLoader'\nimport * as THREE from \"three\"\nimport { Geometry, Base, Subtraction, Addition, Brush } from '@react-three/csg'\nimport Sink from './Sink.js'\nimport EditSinkLayer from './EditSinkLayer.js'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setModelProperties, set_Prop_Box_forma } from \"../../redux/reducers/model-properties.js\";\n\nimport \"./3D.scss\"\n\nimport { useTexture } from \"@react-three/drei\";\nimport { Mesh } from \"three\";\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\n\nconst Rock = ({scaleValue}) => {\n    let textureSelected = useSelector((state) => state.textureSelected)\n  const obj = useLoader(OBJLoader, \"/door/10057_wooden_door_v3_iterations-2.obj\");\n//const texture = useTexture(\"/door/10057_wooden_door_v1_diffuse.jpg\");\n  const texture = useTexture(textureSelected.url);\n\n//   const textureMap = useLoader(TextureLoader, texture.url)\n//   const geometry = useMemo(() => {\n//     let g;\n//     obj.traverse((c) => {\n//       if (c.type === \"Mesh\") {\n//         const _c = c as Mesh;\n//         g = _c.geometry;\n//       }\n//     });\n//     return g;\n//   }, [obj]);\n\n   const geometry = useMemo(() => {\n        let g;\n        // obj.traverse( function ( child ) {\n\n        //     if ( child.isMesh ) {\n    \n        //         child.material.map = texture;\n        //         g = child.geometry//.computeVertexNormals();\n                \n        //     }\n    \n        // } );\n        obj.traverse( function ( child ) {\n            if ( child instanceof THREE.Mesh ) {\n                child.material.map = texture;\n                g = child.geometry//.computeVertexNormals();\n            }\n\n            // if ( child.isMesh ) { child.castShadow = true; }\n        } );\n        return g;\n    }, [obj]);\n\n   \n\n  return (\n    <mesh castSwhadow geometry={geometry} scale={scaleValue} rotation={[ -1.56, 0, 0]} position={[0,-10,0]}>\n      <meshPhysicalMaterial map={texture} />\n    </mesh>\n    // <primitive object={obj} />\n    \n  );\n};\n\nconst Scene = ({scaleValue}) => {\n    return (\n        <>\n            <Rock scaleValue={scaleValue}/>\n\n            <GizmoHelper alignment=\"bottom-right\" margin={[80, 80]}>\n                <GizmoViewport labelColor=\"white\" axisHeadScale={1} />\n            </GizmoHelper>\n        </>\n    )\n}\n\nexport default Scene\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}