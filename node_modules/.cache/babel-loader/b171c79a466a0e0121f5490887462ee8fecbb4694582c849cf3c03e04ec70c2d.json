{"ast":null,"code":"import { Group, Mesh, LineSegments, LineBasicMaterial, MeshPhongMaterial, BufferGeometry, BufferAttribute } from 'three';\nexport class TriangleSetHelper extends Group {\n  get color() {\n    return this._mesh.material.color;\n  }\n  get side() {\n    return this._mesh.material.side;\n  }\n  set side(v) {\n    this._mesh.material.side = v;\n  }\n  constructor() {\n    let triangles = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    super();\n    const geometry = new BufferGeometry();\n    const lineGeom = new BufferGeometry();\n    this._mesh = new Mesh(geometry, new MeshPhongMaterial({\n      flatShading: true,\n      transparent: true,\n      opacity: 0.25,\n      depthWrite: false\n    }));\n    this._lines = new LineSegments(lineGeom, new LineBasicMaterial());\n    this._mesh.material.color = this._lines.material.color;\n    this._lines.frustumCulled = false;\n    this._mesh.frustumCulled = false;\n    this.add(this._lines, this._mesh);\n    this.setTriangles(triangles);\n  }\n  setTriangles(triangles) {\n    const triPositions = new Float32Array(3 * 3 * triangles.length);\n    const linePositions = new Float32Array(6 * 3 * triangles.length);\n    for (let i = 0, l = triangles.length; i < l; i++) {\n      const i9 = 9 * i;\n      const i18 = 18 * i;\n      const tri = triangles[i];\n      tri.a.toArray(triPositions, i9 + 0);\n      tri.b.toArray(triPositions, i9 + 3);\n      tri.c.toArray(triPositions, i9 + 6);\n      tri.a.toArray(linePositions, i18 + 0);\n      tri.b.toArray(linePositions, i18 + 3);\n      tri.b.toArray(linePositions, i18 + 6);\n      tri.c.toArray(linePositions, i18 + 9);\n      tri.c.toArray(linePositions, i18 + 12);\n      tri.a.toArray(linePositions, i18 + 15);\n    }\n    this._mesh.geometry.dispose();\n    this._mesh.geometry.setAttribute('position', new BufferAttribute(triPositions, 3));\n    this._lines.geometry.dispose();\n    this._lines.geometry.setAttribute('position', new BufferAttribute(linePositions, 3));\n  }\n}","map":{"version":3,"names":["Group","Mesh","LineSegments","LineBasicMaterial","MeshPhongMaterial","BufferGeometry","BufferAttribute","TriangleSetHelper","color","_mesh","material","side","v","constructor","triangles","arguments","length","undefined","geometry","lineGeom","flatShading","transparent","opacity","depthWrite","_lines","frustumCulled","add","setTriangles","triPositions","Float32Array","linePositions","i","l","i9","i18","tri","a","toArray","b","c","dispose","setAttribute"],"sources":["/Users/ratseevtimur/Documents/Test-Projects/door-3d/node_modules/three-bvh-csg/src/objects/TriangleSetHelper.js"],"sourcesContent":["import { Group, Mesh, LineSegments, LineBasicMaterial, MeshPhongMaterial, BufferGeometry, BufferAttribute } from 'three';\n\nexport class TriangleSetHelper extends Group {\n\n\tget color() {\n\n\t\treturn this._mesh.material.color;\n\n\t}\n\n\tget side() {\n\n\t\treturn this._mesh.material.side;\n\n\t}\n\n\tset side( v ) {\n\n\t\tthis._mesh.material.side = v;\n\n\t}\n\n\tconstructor( triangles = [] ) {\n\n\t\tsuper();\n\n\t\tconst geometry = new BufferGeometry();\n\t\tconst lineGeom = new BufferGeometry();\n\t\tthis._mesh = new Mesh( geometry, new MeshPhongMaterial( {\n\t\t\tflatShading: true,\n\t\t\ttransparent: true,\n\t\t\topacity: 0.25,\n\t\t\tdepthWrite: false,\n\t\t} ) );\n\t\tthis._lines = new LineSegments( lineGeom, new LineBasicMaterial() );\n\t\tthis._mesh.material.color = this._lines.material.color;\n\n\t\tthis._lines.frustumCulled = false;\n\t\tthis._mesh.frustumCulled = false;\n\n\t\tthis.add( this._lines, this._mesh );\n\n\t\tthis.setTriangles( triangles );\n\n\t}\n\n\tsetTriangles( triangles ) {\n\n\t\tconst triPositions = new Float32Array( 3 * 3 * triangles.length );\n\t\tconst linePositions = new Float32Array( 6 * 3 * triangles.length );\n\t\tfor ( let i = 0, l = triangles.length; i < l; i ++ ) {\n\n\t\t\tconst i9 = 9 * i;\n\t\t\tconst i18 = 18 * i;\n\t\t\tconst tri = triangles[ i ];\n\n\t\t\ttri.a.toArray( triPositions, i9 + 0 );\n\t\t\ttri.b.toArray( triPositions, i9 + 3 );\n\t\t\ttri.c.toArray( triPositions, i9 + 6 );\n\n\n\t\t\ttri.a.toArray( linePositions, i18 + 0 );\n\t\t\ttri.b.toArray( linePositions, i18 + 3 );\n\n\t\t\ttri.b.toArray( linePositions, i18 + 6 );\n\t\t\ttri.c.toArray( linePositions, i18 + 9 );\n\n\t\t\ttri.c.toArray( linePositions, i18 + 12 );\n\t\t\ttri.a.toArray( linePositions, i18 + 15 );\n\n\t\t}\n\n\t\tthis._mesh.geometry.dispose();\n\t\tthis._mesh.geometry.setAttribute( 'position', new BufferAttribute( triPositions, 3 ) );\n\n\t\tthis._lines.geometry.dispose();\n\t\tthis._lines.geometry.setAttribute( 'position', new BufferAttribute( linePositions, 3 ) );\n\n\t}\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}