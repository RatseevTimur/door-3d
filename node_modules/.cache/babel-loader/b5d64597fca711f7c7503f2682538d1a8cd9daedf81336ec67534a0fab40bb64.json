{"ast":null,"code":"import React,{useState}from\"react\";import{Button}from'primereact/button';import{Dialog}from'primereact/dialog';import{InputNumber}from'primereact/inputnumber';import{useSelector,useDispatch}from'react-redux';import{setVisibleSink,setSinkState}from\"../../redux/reducers/scene.js\";import\"./DialogWindow.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function DialogWindow(props){// const [visible, setVisible] = useState(false);\nconst{sinkState}=useSelector(state=>state.scene);const dispatch=useDispatch();const[circleRadius,setCircleRadius]=useState(450);const[squareSize,setSquareSize]=useState({width:524,height:424});const[sinkForm,setSinkForm]=useState(\"square\");function onSubmit(){//Запишем размеры отверстия которое будем вырезать\nif(sinkForm===\"square\"){dispatch(setSinkState({...sinkState,forma:\"square\",width:squareSize.width,height:squareSize.height}));}else{dispatch(setSinkState({...sinkState,forma:\"circle\",width:circleRadius,height:null// Для круглой формы не нужен второй параметр\n}));}props.setVisible(false);//закрыть модалку\ndispatch(setVisibleSink());//отобразить компонент для отверстий\n}const footerContent=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{label:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\",icon:\"pi pi-times\",onClick:()=>props.setVisible(false),className:\"p-button-text\"}),/*#__PURE__*/_jsx(Button,{label:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u044B\\u0440\\u0435\\u0437\",icon:\"pi pi-check\",onClick:()=>onSubmit(),autoFocus:true})]});const Shadow=()=>{return/*#__PURE__*/_jsxs(\"filter\",{id:\"insetShadow\",children:[/*#__PURE__*/_jsx(\"feOffset\",{dx:\"10\",dy:\"10\"}),/*#__PURE__*/_jsx(\"feGaussianBlur\",{stdDeviation:\"5\",result:\"offset-blur\"}),/*#__PURE__*/_jsx(\"feComposite\",{operator:\"out\",in:\"SourceGraphic\",in2:\"offset-blur\",result:\"inverse\"}),/*#__PURE__*/_jsx(\"feFlood\",{floodColor:\"black\",floodOpacity:\".5\",result:\"color\"}),/*#__PURE__*/_jsx(\"feComposite\",{operator:\"in\",in:\"color\",in2:\"inverse\",result:\"shadow\"}),/*#__PURE__*/_jsx(\"feComposite\",{operator:\"over\",in:\"shadow\",in2:\"SourceGraphic\"})]});};return/*#__PURE__*/_jsx(\"div\",{className:\"card flex justify-content-center\",children:/*#__PURE__*/_jsxs(Dialog,{header:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0432\\u044B\\u0440\\u0435\\u0437\\u0430\",visible:props.visible,style:{width:'50vw',height:\"430px\"},onHide:()=>props.setVisible(false),footer:footerContent,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card flex flex-wrap gap-3 p-fluid\",style:{display:'flex',justifyContent:'center'},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"180\",height:\"180\",viewBox:\"0 0 180 180\",onClick:()=>setSinkForm(\"square\"),className:\"cut-forma\".concat(sinkForm==\"square\"?\"-active\":\"\"),children:[/*#__PURE__*/_jsx(Shadow,{}),/*#__PURE__*/_jsx(\"rect\",{x:\"0\",y:\"0\",rx:\"10\",ry:\"10\",width:\"180\",height:\"180\"})]}),/*#__PURE__*/_jsxs(\"svg\",{width:\"180\",height:\"180\",viewBox:\"0 0 180 180\",onClick:()=>setSinkForm(\"circle\"),className:\"cut-forma\".concat(sinkForm==\"circle\"?\"-active\":\"\"),children:[/*#__PURE__*/_jsx(Shadow,{}),/*#__PURE__*/_jsx(\"circle\",{cx:\"90\",cy:\"90\",r:\"90\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card flex flex-wrap gap-3 p-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-auto\",children:sinkForm===\"square\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"square-width\",className:\"font-bold block mb-2\",children:\"\\u0428\\u0438\\u0440\\u0438\\u043D\\u0430\"}),/*#__PURE__*/_jsx(InputNumber,{inputId:\"square-width\",value:squareSize.width,min:20/*max={100}*/,onValueChange:e=>setSquareSize({...squareSize,width:e.value}),mode:\"decimal\",showButtons:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"square-height\",className:\"font-bold block mb-2\",children:\"\\u0412\\u044B\\u0441\\u043E\\u0442\\u0430\"}),/*#__PURE__*/_jsx(InputNumber,{inputId:\"minmax-height\",value:squareSize.height,min:20/*max={100}*/,onValueChange:e=>setSquareSize({...squareSize,height:e.value}),mode:\"decimal\",showButtons:true})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"circle\",className:\"font-bold block mb-2\",children:\"\\u0414\\u0438\\u0430\\u043C\\u0435\\u0442\\u0440\"}),/*#__PURE__*/_jsx(InputNumber,{inputId:\"circle\",value:circleRadius,onValueChange:e=>setCircleRadius(e.value),mode:\"decimal\",showButtons:true,min:20/*max={100}*/})]})})})]})});}","map":{"version":3,"names":["React","useState","Button","Dialog","InputNumber","useSelector","useDispatch","setVisibleSink","setSinkState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DialogWindow","props","sinkState","state","scene","dispatch","circleRadius","setCircleRadius","squareSize","setSquareSize","width","height","sinkForm","setSinkForm","onSubmit","forma","setVisible","footerContent","children","label","icon","onClick","className","autoFocus","Shadow","id","dx","dy","stdDeviation","result","operator","in","in2","floodColor","floodOpacity","header","visible","style","onHide","footer","display","justifyContent","viewBox","concat","x","y","rx","ry","cx","cy","r","htmlFor","inputId","value","min","onValueChange","e","mode","showButtons"],"sources":["/Users/ratseevtimur/Documents/Test-Projects/door-3d/src/components/dialog/DialogWindow.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button } from 'primereact/button';\nimport { Dialog } from 'primereact/dialog';\nimport { InputNumber } from 'primereact/inputnumber';\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setVisibleSink, setSinkState } from \"../../redux/reducers/scene.js\";\n\nimport \"./DialogWindow.scss\"\n\nexport default function DialogWindow(props) {\n    // const [visible, setVisible] = useState(false);\n    const { sinkState } = useSelector((state) => state.scene)\n    const dispatch = useDispatch()\n\n    const [circleRadius, setCircleRadius] = useState(450);\n    const [squareSize, setSquareSize] = useState({\n        width: 524,\n        height: 424\n    });\n    const [sinkForm, setSinkForm] = useState(\"square\")\n\n    function onSubmit(){\n        //Запишем размеры отверстия которое будем вырезать\n        if(sinkForm===\"square\"){\n            dispatch(setSinkState({\n                ...sinkState,\n                forma: \"square\",\n                width: squareSize.width,\n                height: squareSize.height\n            }))\n        }else{\n            dispatch(setSinkState({\n                ...sinkState,\n                forma: \"circle\",\n                width: circleRadius,\n                height: null // Для круглой формы не нужен второй параметр\n            }))\n        }\n      \n        props.setVisible(false) //закрыть модалку\n        dispatch(setVisibleSink()) //отобразить компонент для отверстий\n    }\n\n    const footerContent = (\n        <div>\n            <Button label=\"Отмена\" icon=\"pi pi-times\" onClick={() => props.setVisible(false)} className=\"p-button-text\" />\n            <Button label=\"Добавить вырез\" icon=\"pi pi-check\" onClick={() => onSubmit()} autoFocus />\n        </div>\n    );\n\n    const Shadow = () => {\n        return (\n            <filter id='insetShadow'>\n                <feOffset dx='10' dy='10' />\n                <feGaussianBlur stdDeviation='5' result='offset-blur' />\n                <feComposite\n                    operator='out'\n                    in='SourceGraphic'\n                    in2='offset-blur'\n                    result='inverse'\n                />\n                <feFlood\n                    floodColor='black'\n                    floodOpacity='.5'\n                    result='color'\n                />\n                <feComposite\n                    operator='in'\n                    in='color'\n                    in2='inverse'\n                    result='shadow'\n                />\n                <feComposite\n                    operator='over'\n                    in='shadow'\n                    in2='SourceGraphic'\n                />\n            </filter>\n        )\n    }\n\n    return (\n        <div className=\"card flex justify-content-center\">\n            {/* <Button label=\"Show\" icon=\"pi pi-external-link\" onClick={() => props.setVisible(true)} /> */}\n            <Dialog header=\"Добавление выреза\" visible={props.visible} style={{ width: '50vw', height: \"430px\" }} onHide={() => props.setVisible(false)} footer={footerContent}>\n                <div className=\"card flex flex-wrap gap-3 p-fluid\"\n                    style={{display: 'flex', justifyContent: 'center'}}\n                >\n                    <svg width=\"180\" height=\"180\" viewBox=\"0 0 180 180\" onClick={() => setSinkForm(\"square\")}\n                        className={`cut-forma${sinkForm == \"square\" ? \"-active\" : \"\"}`}\n                    >\n                        <Shadow />\n                        <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"180\" height=\"180\" />\n                    </svg>\n\n                    <svg width=\"180\" height=\"180\" viewBox=\"0 0 180 180\" onClick={() => setSinkForm(\"circle\")}\n                        className={`cut-forma${sinkForm == \"circle\" ? \"-active\" : \"\"}`}\n                    >\n                        <Shadow />\n                        <circle cx=\"90\" cy=\"90\" r=\"90\" />\n                    </svg>\n                </div>\n\n                <div className=\"card flex flex-wrap gap-3 p-fluid\">\n                    <div className=\"flex-auto\">\n                        {sinkForm === \"square\" ?\n                            <>\n                                <label htmlFor=\"square-width\" className=\"font-bold block mb-2\">Ширина</label>\n                                <InputNumber inputId=\"square-width\" value={squareSize.width} min={20} /*max={100}*/\n                                    onValueChange={(e) => setSquareSize({ ...squareSize, width: e.value })} mode=\"decimal\" showButtons />\n                                <label htmlFor=\"square-height\" className=\"font-bold block mb-2\">Высота</label>\n                                <InputNumber inputId=\"minmax-height\" value={squareSize.height} min={20} /*max={100}*/\n                                    onValueChange={(e) => setSquareSize({ ...squareSize, height: e.value })} mode=\"decimal\" showButtons />\n                            </>\n                            :\n                            <>\n                                <label htmlFor=\"circle\" className=\"font-bold block mb-2\">Диаметр</label>\n                                <InputNumber inputId=\"circle\" value={circleRadius} onValueChange={(e) => setCircleRadius(e.value)} mode=\"decimal\" showButtons min={20} /*max={100}*/ />\n                            </>\n                        }\n                    </div>\n                </div>\n            </Dialog>\n        </div>\n    )\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,KAAQ,mBAAmB,CAC1C,OAASC,MAAM,KAAQ,mBAAmB,CAC1C,OAASC,WAAW,KAAQ,wBAAwB,CAEpD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,cAAc,CAAEC,YAAY,KAAQ,+BAA+B,CAE5E,MAAO,qBAAqB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE5B,cAAe,SAAS,CAAAC,YAAYA,CAACC,KAAK,CAAE,CACxC;AACA,KAAM,CAAEC,SAAU,CAAC,CAAGZ,WAAW,CAAEa,KAAK,EAAKA,KAAK,CAACC,KAAK,CAAC,CACzD,KAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACe,YAAY,CAAEC,eAAe,CAAC,CAAGrB,QAAQ,CAAC,GAAG,CAAC,CACrD,KAAM,CAACsB,UAAU,CAAEC,aAAa,CAAC,CAAGvB,QAAQ,CAAC,CACzCwB,KAAK,CAAE,GAAG,CACVC,MAAM,CAAE,GACZ,CAAC,CAAC,CACF,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAG3B,QAAQ,CAAC,QAAQ,CAAC,CAElD,QAAS,CAAA4B,QAAQA,CAAA,CAAE,CACf;AACA,GAAGF,QAAQ,GAAG,QAAQ,CAAC,CACnBP,QAAQ,CAACZ,YAAY,CAAC,CAClB,GAAGS,SAAS,CACZa,KAAK,CAAE,QAAQ,CACfL,KAAK,CAAEF,UAAU,CAACE,KAAK,CACvBC,MAAM,CAAEH,UAAU,CAACG,MACvB,CAAC,CAAC,CAAC,CACP,CAAC,IAAI,CACDN,QAAQ,CAACZ,YAAY,CAAC,CAClB,GAAGS,SAAS,CACZa,KAAK,CAAE,QAAQ,CACfL,KAAK,CAAEJ,YAAY,CACnBK,MAAM,CAAE,IAAK;AACjB,CAAC,CAAC,CAAC,CACP,CAEAV,KAAK,CAACe,UAAU,CAAC,KAAK,CAAC,CAAC;AACxBX,QAAQ,CAACb,cAAc,CAAC,CAAC,CAAC,CAAC;AAC/B,CAEA,KAAM,CAAAyB,aAAa,cACfpB,KAAA,QAAAqB,QAAA,eACIvB,IAAA,CAACR,MAAM,EAACgC,KAAK,CAAC,sCAAQ,CAACC,IAAI,CAAC,aAAa,CAACC,OAAO,CAAEA,CAAA,GAAMpB,KAAK,CAACe,UAAU,CAAC,KAAK,CAAE,CAACM,SAAS,CAAC,eAAe,CAAE,CAAC,cAC9G3B,IAAA,CAACR,MAAM,EAACgC,KAAK,CAAC,iFAAgB,CAACC,IAAI,CAAC,aAAa,CAACC,OAAO,CAAEA,CAAA,GAAMP,QAAQ,CAAC,CAAE,CAACS,SAAS,MAAE,CAAC,EACxF,CACR,CAED,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACjB,mBACI3B,KAAA,WAAQ4B,EAAE,CAAC,aAAa,CAAAP,QAAA,eACpBvB,IAAA,aAAU+B,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAE,CAAC,cAC5BhC,IAAA,mBAAgBiC,YAAY,CAAC,GAAG,CAACC,MAAM,CAAC,aAAa,CAAE,CAAC,cACxDlC,IAAA,gBACImC,QAAQ,CAAC,KAAK,CACdC,EAAE,CAAC,eAAe,CAClBC,GAAG,CAAC,aAAa,CACjBH,MAAM,CAAC,SAAS,CACnB,CAAC,cACFlC,IAAA,YACIsC,UAAU,CAAC,OAAO,CAClBC,YAAY,CAAC,IAAI,CACjBL,MAAM,CAAC,OAAO,CACjB,CAAC,cACFlC,IAAA,gBACImC,QAAQ,CAAC,IAAI,CACbC,EAAE,CAAC,OAAO,CACVC,GAAG,CAAC,SAAS,CACbH,MAAM,CAAC,QAAQ,CAClB,CAAC,cACFlC,IAAA,gBACImC,QAAQ,CAAC,MAAM,CACfC,EAAE,CAAC,QAAQ,CACXC,GAAG,CAAC,eAAe,CACtB,CAAC,EACE,CAAC,CAEjB,CAAC,CAED,mBACIrC,IAAA,QAAK2B,SAAS,CAAC,kCAAkC,CAAAJ,QAAA,cAE7CrB,KAAA,CAACT,MAAM,EAAC+C,MAAM,CAAC,mGAAmB,CAACC,OAAO,CAAEnC,KAAK,CAACmC,OAAQ,CAACC,KAAK,CAAE,CAAE3B,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,OAAQ,CAAE,CAAC2B,MAAM,CAAEA,CAAA,GAAMrC,KAAK,CAACe,UAAU,CAAC,KAAK,CAAE,CAACuB,MAAM,CAAEtB,aAAc,CAAAC,QAAA,eAC/JrB,KAAA,QAAKyB,SAAS,CAAC,mCAAmC,CAC9Ce,KAAK,CAAE,CAACG,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAQ,CAAE,CAAAvB,QAAA,eAEnDrB,KAAA,QAAKa,KAAK,CAAC,KAAK,CAACC,MAAM,CAAC,KAAK,CAAC+B,OAAO,CAAC,aAAa,CAACrB,OAAO,CAAEA,CAAA,GAAMR,WAAW,CAAC,QAAQ,CAAE,CACrFS,SAAS,aAAAqB,MAAA,CAAc/B,QAAQ,EAAI,QAAQ,CAAG,SAAS,CAAG,EAAE,CAAG,CAAAM,QAAA,eAE/DvB,IAAA,CAAC6B,MAAM,GAAE,CAAC,cACV7B,IAAA,SAAMiD,CAAC,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACrC,KAAK,CAAC,KAAK,CAACC,MAAM,CAAC,KAAK,CAAE,CAAC,EAC5D,CAAC,cAENd,KAAA,QAAKa,KAAK,CAAC,KAAK,CAACC,MAAM,CAAC,KAAK,CAAC+B,OAAO,CAAC,aAAa,CAACrB,OAAO,CAAEA,CAAA,GAAMR,WAAW,CAAC,QAAQ,CAAE,CACrFS,SAAS,aAAAqB,MAAA,CAAc/B,QAAQ,EAAI,QAAQ,CAAG,SAAS,CAAG,EAAE,CAAG,CAAAM,QAAA,eAE/DvB,IAAA,CAAC6B,MAAM,GAAE,CAAC,cACV7B,IAAA,WAAQqD,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAAE,CAAC,EAChC,CAAC,EACL,CAAC,cAENvD,IAAA,QAAK2B,SAAS,CAAC,mCAAmC,CAAAJ,QAAA,cAC9CvB,IAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAJ,QAAA,CACrBN,QAAQ,GAAK,QAAQ,cAClBf,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eACIvB,IAAA,UAAOwD,OAAO,CAAC,cAAc,CAAC7B,SAAS,CAAC,sBAAsB,CAAAJ,QAAA,CAAC,sCAAM,CAAO,CAAC,cAC7EvB,IAAA,CAACN,WAAW,EAAC+D,OAAO,CAAC,cAAc,CAACC,KAAK,CAAE7C,UAAU,CAACE,KAAM,CAAC4C,GAAG,CAAE,EAAI,cAClEC,aAAa,CAAGC,CAAC,EAAK/C,aAAa,CAAC,CAAE,GAAGD,UAAU,CAAEE,KAAK,CAAE8C,CAAC,CAACH,KAAM,CAAC,CAAE,CAACI,IAAI,CAAC,SAAS,CAACC,WAAW,MAAE,CAAC,cACzG/D,IAAA,UAAOwD,OAAO,CAAC,eAAe,CAAC7B,SAAS,CAAC,sBAAsB,CAAAJ,QAAA,CAAC,sCAAM,CAAO,CAAC,cAC9EvB,IAAA,CAACN,WAAW,EAAC+D,OAAO,CAAC,eAAe,CAACC,KAAK,CAAE7C,UAAU,CAACG,MAAO,CAAC2C,GAAG,CAAE,EAAI,cACpEC,aAAa,CAAGC,CAAC,EAAK/C,aAAa,CAAC,CAAE,GAAGD,UAAU,CAAEG,MAAM,CAAE6C,CAAC,CAACH,KAAM,CAAC,CAAE,CAACI,IAAI,CAAC,SAAS,CAACC,WAAW,MAAE,CAAC,EAC5G,CAAC,cAEH7D,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eACIvB,IAAA,UAAOwD,OAAO,CAAC,QAAQ,CAAC7B,SAAS,CAAC,sBAAsB,CAAAJ,QAAA,CAAC,4CAAO,CAAO,CAAC,cACxEvB,IAAA,CAACN,WAAW,EAAC+D,OAAO,CAAC,QAAQ,CAACC,KAAK,CAAE/C,YAAa,CAACiD,aAAa,CAAGC,CAAC,EAAKjD,eAAe,CAACiD,CAAC,CAACH,KAAK,CAAE,CAACI,IAAI,CAAC,SAAS,CAACC,WAAW,MAACJ,GAAG,CAAE,EAAI,cAAe,CAAC,EACzJ,CAAC,CAEN,CAAC,CACL,CAAC,EACF,CAAC,CACR,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}