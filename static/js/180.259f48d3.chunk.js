"use strict";(self.webpackChunkdoor=self.webpackChunkdoor||[]).push([[180],{7180:(t,e,i)=>{i.r(e),i.d(e,{default:()=>p});var h=i(5043),o=i(3216),s=i(2029),a=i(4315),r=i(7551),n=i(3970),l=i(9408),c=i(4569),d=i(7525),g=i(9577),x=i(9456),w=(i(1278),i(579));const p=t=>{let{mesh:e,scaleValue:i}=t,p=100;(0,x.wA)();(0,o.zy)();let u=(0,x.d4)((t=>t.textureSelected));const{visible:m,colorBackground:b}=(0,x.d4)((t=>t.scene)),[A,S]=(0,h.useState)({forma:1,heightAll:2e3,widthAll:800,thickness:40,cuts:[]}),z=(0,r.F)(n.T,u.url);function f(t){return(0,w.jsxs)("mesh",{ref:e,castShadow:!0,receiveShadow:!0,...t,matrixAutoUpdate:!0,castShadow:!0,children:[(0,w.jsxs)(c.V2,{children:[(0,w.jsx)(c.C6,{children:(0,w.jsx)("boxGeometry",{attach:"geometry",args:[A.widthAll/100,A.heightAll/100,A.thickness/100],scale:t.scaleValue})}),(0,w.jsx)(c.ZO,{rotation:[0,0,0],position:[0,0,0],children:(0,w.jsx)("cylinderGeometry",{args:[0,0,0,3,3]})}),A.cuts.map(((t,e)=>"square"===t.forma?(0,w.jsx)(c.ZO,{rotation:[0,0,t.rotation[2]],position:[t.position[0],t.position[1],0],children:(0,w.jsx)("boxGeometry",{args:[t.width/p,t.height/p,1]})},e):(0,w.jsx)(c.ZO,{rotation:[Math.PI/2,0,0],position:[t.position[0],t.position[1],0],children:(0,w.jsx)("cylinderGeometry",{args:[t.width/2/p,t.width/2/p,1]})},e)))]}),(0,w.jsx)("meshPhongMaterial",{map:z,shininess:100,bumpMap:z,bumpScale:.01,transparent:!1,attach:"material-0",color:10066329}),(0,w.jsx)(d.A,{setBoxSize:S,boxSize:A})]})}return z.wrapS=l.RepeatWrapping,z.wrapT=l.MirroredRepeatWrapping,(0,w.jsx)(w.Fragment,{children:u&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(f,{instanceMatrix:!0,needsUpdate:!0,scaleValue:i}),(0,w.jsx)(g.A,{boxSize:A,setBoxSize:S}),(0,w.jsx)(s.z,{alignment:"bottom-right",margin:[80,80],children:(0,w.jsx)(a.t,{labelColor:"white",axisHeadScale:1})})]})})}},9577:(t,e,i)=>{i.d(e,{A:()=>s});var h=i(5043),o=i(579);const s=t=>{let e=100,i=t.boxSize;const[s,a]=(0,h.useState)(!1);return(0,o.jsx)(o.Fragment,{children:t.boxSize.cuts.map(((h,r)=>(0,o.jsxs)("mesh",{rotation:"square"===h.forma?[0,0,h.rotation[2]]:[Math.PI/2,0,0],position:[h.position[0],h.position[1],0],onContextMenu:()=>function(e){t.setBoxSize({...i,cuts:i.cuts.filter(((t,i)=>i!==e))})}(r),onPointerOver:t=>a(r),onPointerOut:t=>a(!1),children:["square"===h.forma?(0,o.jsx)("boxGeometry",{args:[h.width/e,h.height/e,i.thickness/e]}):(0,o.jsx)("cylinderGeometry",{args:[h.width/2/e,h.width/2/e,i.thickness/e]}),(0,o.jsx)("meshPhongMaterial",{color:s===r?"red":"#fff",transparent:!0,opacity:s!==r?0:.6})]},r)))})}},7525:(t,e,i)=>{i.d(e,{A:()=>w});var h=i(5043),o=i(2201),s=i(6569),a=i(1940),r=i(2309),n=i(9408),l=i(9456),c=i(795);function d(t,e,i,h){var o=t.x<0?t.x-e.width/h/2:t.x+e.width/h/2,s=t.y<0?t.y-e.height/h/2:t.y+e.height/h/2;let a,r;3===i.forma?(a=new Array(-i.widthAll/h+i.widthRight/h/2,-i.widthAll/h+i.widthRight/h/2,i.widthRight/h/2,i.widthRight/h/2,-i.widthRight/h/2,-i.widthRight/h/2,-i.widthAll/h+i.widthRight/h,-i.widthAll/h+i.widthRight/h),r=new Array(-i.heightAll/h/2,i.heightAll/h/2,i.heightAll/h/2,-(i.heightAll/h/2-(i.heightAll-i.heightRight)/h),-(i.heightAll/h/2-(i.heightAll-i.heightRight)/h),i.heightAll/h/2-i.heightRight/h+i.heightInsideRight/h,(i.heightAll/2-(i.heightRight-i.heightInsideRight))/h,-i.heightAll/h/2)):2===i.forma&&(a=new Array(-i.widthVertical/h/2,-i.widthVertical/h/2,(i.widthAll-i.widthVertical/2)/h,(i.widthAll-i.widthVertical/2)/h,i.widthVertical/h/2,i.widthVertical/h/2),r=new Array(-i.heightAll/h/2,i.heightAll/h/2,i.heightAll/h/2,(i.heightAll-2*i.heightGorizonal)/h/2,(i.heightAll-2*i.heightGorizonal)/h/2,-i.heightAll/h/2));for(var n=a.length,l=n-1,c=!1,d=0;d<n;d++)(r[d]<=s&&s<r[l]||r[l]<=s&&s<r[d])&&o>(a[l]-a[d])*(s-r[d])/(r[l]-r[d])+a[d]&&(c=!c),l=d;return c}i(1278);var g=i(2018),x=i(579);const w=t=>{let e=100;const{visibleSink:i,sinkState:w}=(0,l.d4)((t=>t.scene)),u=(0,l.wA)(),[m,b]=(0,h.useState)([0,0,t.boxSize.thickness/e]),[A,S]=(0,h.useState)([0,0,0]),[z,f]=(0,h.useState)("rgb(236, 108, 108)");let j="".concat("/door-3d","/icons/circle.svg"),y=(0,o.z)(j);if(i)return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("group",{position:[0,0,.25],children:(0,x.jsx)(s.n,{scale:.88,activeAxes:[!0,!0,!1],onDrag:i=>{const h=new n.Vector3,o=new n.Vector3,s=new n.Quaternion;i.decompose(h,s,o);const a=(new n.Euler).setFromQuaternion(s);!function(i){let h=Math.abs(i.x)+w.width/200<Math.abs(t.boxSize.widthAll/200),o=Math.abs(i.y)+(w.height||w.width)/200<Math.abs(t.boxSize.heightAll/200),s=0;3===t.boxSize.forma?(s=(t.boxSize.widthAll-t.boxSize.widthRight)/2/e,d(i,{width:w.width,height:w.height},t.boxSize,e)&&b([i.x+s,i.y,t.boxSize.thickness/e/2+.01])):2===t.boxSize.forma?(s=-(t.boxSize.widthAll-t.boxSize.widthVertical)/2/e,d(i,{width:w.width,height:w.height},t.boxSize,e)&&b([i.x+s,i.y,t.boxSize.thickness/e/2+.01])):(s=0,h=Math.abs(i.x)+w.width/200<Math.abs(t.boxSize.widthAll/200),o=Math.abs(i.y)+(w.height||w.width)/200<Math.abs(t.boxSize.heightAll/200),b([h?i.x+s:m[0],o?i.y:m[1],t.boxSize.thickness/e/2+.01]))}(h),S([a.x,a.y,a.z])},onDragEnd:()=>{}})}),(0,x.jsx)(a.C,{position:m,rotation:A,scale:"square"==w.forma?[w.width/100,w.height/100,1]:[w.width/100,w.width/100,1],color:z,children:"square"!==w.forma&&(0,x.jsx)("meshPhysicalMaterial",{transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10,map:y,mapflipY:!1,mapanisotropy:16,iridescence:1,iridescenceIOR:1,iridescenceThicknessRange:[0,1400],roughness:1,clearcoat:.5,metalness:.75,toneMapped:!1})}),(0,x.jsx)(r.E,{transform:!0,zIndexRange:1,position:[m[0]+1.5,m[1]-1,t.boxSize.thickness/e/2],children:(0,x.jsx)(g.$,{style:p.buttonSink,icon:"pi pi-check",tooltip:"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c",onClick:()=>(t.setBoxSize({...t.boxSize,cuts:[...t.boxSize.cuts,{forma:w.forma,width:w.width,height:w.height,position:m,rotation:A}]}),void u((0,c.O)()))})})]})},p={buttonSink:{width:"25px",height:"15px"}}},1278:()=>{}}]);
//# sourceMappingURL=180.259f48d3.chunk.js.map